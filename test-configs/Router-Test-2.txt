! Prerequisiste for telephony

enable
configure terminal
license boot module c2900 technology-package uck9
! ENTER YES AFTER

end
write
reload

! main config

enable
configure terminal
hostname Router-Test-2

interface gigabitEthernet 0/0
no shutdown
exit

! Sub-interfaces for SW1 (Department A)
interface gigabitEthernet 0/0.10
encapsulation dot1Q 10
ip address 192.168.10.3 255.255.255.0
standby 1 ip 192.168.10.1
standby 1 priority 100
exit

interface gigabitEthernet 0/0.20
encapsulation dot1Q 20
ip address 192.168.20.3 255.255.255.0
standby 1 ip 192.168.20.1
standby 1 priority 100
exit

! Sub-interfaces for SW2 (Department B)
interface gigabitEthernet 0/0.30
encapsulation dot1Q 30
ip address 192.168.30.3 255.255.255.0
standby 1 ip 192.168.30.1
standby 1 priority 100
exit

interface gigabitEthernet 0/0.40
encapsulation dot1Q 40
ip address 192.168.40.3 255.255.255.0
standby 1 ip 192.168.40.1
standby 1 priority 100
exit

! Native VLAN (Management)
interface gigabitEthernet 0/0.99
encapsulation dot1Q 99 native
ip address 192.168.99.3 255.255.255.0
standby 1 ip 192.168.99.1
standby 1 priority 100
exit

! Sub-interfaces for SW3 (Department C)
interface gigabitEthernet 0/0.50
encapsulation dot1Q 50
ip address 192.168.50.3 255.255.255.0
standby 1 ip 192.168.50.1
standby 1 priority 100
exit

interface gigabitEthernet 0/0.60
encapsulation dot1Q 60
ip address 192.168.60.3 255.255.255.0
standby 1 ip 192.168.60.1
standby 1 priority 100
exit

! Sub-interfaces for SW4 (Department D)
interface gigabitEthernet 0/0.70
encapsulation dot1Q 70
ip address 192.168.70.3 255.255.255.0
standby 1 ip 192.168.70.1
standby 1 priority 100
exit

interface gigabitEthernet 0/0.80
encapsulation dot1Q 80
ip address 192.168.80.3 255.255.255.0
standby 1 ip 192.168.80.1
standby 1 priority 100
exit

! Sub-interfaces for SW5 (Department E)
interface gigabitEthernet 0/0.90
encapsulation dot1Q 90
ip address 192.168.90.3 255.255.255.0
standby 1 ip 192.168.90.1
standby 1 priority 100
exit

interface gigabitEthernet 0/0.100
encapsulation dot1Q 100
ip address 192.168.100.3 255.255.255.0
standby 1 ip 192.168.100.1
standby 1 priority 100
exit

! Sub-interfaces for SW6 (Department F)
interface gigabitEthernet 0/0.110
encapsulation dot1Q 110
ip address 192.168.110.3 255.255.255.0
standby 1 ip 192.168.110.1
standby 1 priority 100
exit

interface gigabitEthernet 0/0.120
encapsulation dot1Q 120
ip address 192.168.120.3 255.255.255.0
standby 1 ip 192.168.120.1
standby 1 priority 100
exit

! Sub-interfaces for SW7 (Department G)
interface gigabitEthernet 0/0.130
encapsulation dot1Q 130
ip address 192.168.130.3 255.255.255.0
standby 1 ip 192.168.130.1
standby 1 priority 100
exit

interface gigabitEthernet 0/0.140
encapsulation dot1Q 140
ip address 192.168.140.3 255.255.255.0
standby 1 ip 192.168.140.1
standby 1 priority 100
exit

! Sub-interfaces for SW6 (Department H)
interface gigabitEthernet 0/0.150
encapsulation dot1Q 150
ip address 192.168.150.3 255.255.255.0
standby 1 ip 192.168.150.1
standby 1 priority 100
exit

interface gigabitEthernet 0/0.160
encapsulation dot1Q 160
ip address 192.168.160.3 255.255.255.0
standby 1 ip 192.168.160.1
standby 1 priority 100
exit

! DHCP Configuration
ip dhcp excluded-address 192.168.10.1 192.168.10.3
ip dhcp excluded-address 192.168.20.1 192.168.20.3
ip dhcp excluded-address 192.168.30.1 192.168.30.3
ip dhcp excluded-address 192.168.40.1 192.168.40.3
ip dhcp excluded-address 192.168.50.1 192.168.50.3
ip dhcp excluded-address 192.168.60.1 192.168.60.3
ip dhcp excluded-address 192.168.70.1 192.168.70.3
ip dhcp excluded-address 192.168.80.1 192.168.80.3
ip dhcp excluded-address 192.168.90.1 192.168.90.3
ip dhcp excluded-address 192.168.100.1 192.168.100.3
ip dhcp excluded-address 192.168.110.1 192.168.110.3
ip dhcp excluded-address 192.168.120.1 192.168.120.3
ip dhcp excluded-address 192.168.130.1 192.168.130.3
ip dhcp excluded-address 192.168.140.1 192.168.140.3
ip dhcp excluded-address 192.168.150.1 192.168.150.3
ip dhcp excluded-address 192.168.150.8
ip dhcp excluded-address 192.168.160.1 192.168.160.3

! DHCP Pool for Department A - Data
ip dhcp pool DATA_POOL_DEPT_A
network 192.168.10.0 255.255.255.0
default-router 192.168.10.1
dns-server 192.168.150.8
exit

! DHCP Pool for Department A - Voice
ip dhcp pool VOICE_POOL_DEPT_A
network 192.168.20.0 255.255.255.0
default-router 192.168.20.1
option 150 ip 192.168.20.1
exit

! DHCP Pool for Department B - Data
ip dhcp pool DATA_POOL_DEPT_B
network 192.168.30.0 255.255.255.0
default-router 192.168.30.1
dns-server 192.168.150.8
exit

! DHCP Pool for Department B - Voice
ip dhcp pool VOICE_POOL_DEPT_B
network 192.168.40.0 255.255.255.0
default-router 192.168.40.1
option 150 ip 192.168.40.1
exit

! DHCP Pool for Department C - Data
ip dhcp pool DATA_POOL_DEPT_C
network 192.168.50.0 255.255.255.0
default-router 192.168.50.1
dns-server 192.168.150.8
exit

! DHCP Pool for Department C - Voice
ip dhcp pool VOICE_POOL_DEPT_C
network 192.168.60.0 255.255.255.0
default-router 192.168.60.1
option 150 ip 192.168.60.1
exit

! DHCP Pool for Department D - Data
ip dhcp pool DATA_POOL_DEPT_D
network 192.168.70.0 255.255.255.0
default-router 192.168.70.1
dns-server 192.168.150.8
exit

! DHCP Pool for Department D - Voice
ip dhcp pool VOICE_POOL_DEPT_D
network 192.168.80.0 255.255.255.0
default-router 192.168.80.1
option 150 ip 192.168.80.1
exit

! DHCP Pool for Department E - Data
ip dhcp pool DATA_POOL_DEPT_E
network 192.168.90.0 255.255.255.0
default-router 192.168.90.1
dns-server 192.168.150.8
exit

! DHCP Pool for Department E - Voice
ip dhcp pool VOICE_POOL_DEPT_E
network 192.168.100.0 255.255.255.0
default-router 192.168.100.1
option 150 ip 192.168.100.1
exit

! DHCP Pool for Department F - Data
ip dhcp pool DATA_POOL_DEPT_F
network 192.168.110.0 255.255.255.0
default-router 192.168.110.1
dns-server 192.168.150.8
exit

! DHCP Pool for Department F - Voice
ip dhcp pool VOICE_POOL_DEPT_F
network 192.168.120.0 255.255.255.0
default-router 192.168.120.1
option 150 ip 192.168.120.1
exit

! DHCP Pool for Department G - Data
ip dhcp pool DATA_POOL_DEPT_G
network 192.168.130.0 255.255.255.0
default-router 192.168.130.1
dns-server 192.168.150.8
exit

! DHCP Pool for Department G - Voice
ip dhcp pool VOICE_POOL_DEPT_G
network 192.168.140.0 255.255.255.0
default-router 192.168.140.1
option 150 ip 192.168.140.1
exit

! DHCP Pool for Department H - Data
ip dhcp pool DATA_POOL_DEPT_H
network 192.168.150.0 255.255.255.0
default-router 192.168.150.1
dns-server 192.168.150.8
exit

! DHCP Pool for Department H - Voice
ip dhcp pool VOICE_POOL_DEPT_H
network 192.168.160.0 255.255.255.0
default-router 192.168.160.1
option 150 ip 192.168.160.1
exit

! OSPF Configuration
router ospf 1
router-id 2.2.2.2
network 192.168.10.0 0.0.0.255 area 0
network 192.168.20.0 0.0.0.255 area 0
network 192.168.30.0 0.0.0.255 area 0
network 192.168.40.0 0.0.0.255 area 0
network 192.168.50.0 0.0.0.255 area 0
network 192.168.60.0 0.0.0.255 area 0
network 192.168.70.0 0.0.0.255 area 0
network 192.168.80.0 0.0.0.255 area 0
network 192.168.90.0 0.0.0.255 area 0
network 192.168.100.0 0.0.0.255 area 0
network 192.168.110.0 0.0.0.255 area 0
network 192.168.120.0 0.0.0.255 area 0
network 192.168.130.0 0.0.0.255 area 0
network 192.168.140.0 0.0.0.255 area 0
network 192.168.150.0 0.0.0.255 area 0
network 192.168.160.0 0.0.0.255 area 0
network 192.168.99.0 0.0.0.255 area 0
exit

! Telephony Service Configuration (Standby - only active when this router becomes HSRP active)
telephony-service
max-ephones 24
max-dn 24
ip source-address 192.168.20.3 port 2000
auto assign 1 to 24
exit

! Phone Directory Numbers - Department A (SW1)
ephone-dn 1
number 3001
exit
ephone-dn 2
number 3002
exit
ephone-dn 3
number 3003
exit

! Phone Directory Numbers - Department B (SW2)
ephone-dn 4
number 3010
exit
ephone-dn 5
number 3011
exit
ephone-dn 6
number 3012
exit

! Phone Directory Numbers - Department C (SW3)
ephone-dn 7
number 3020
exit
ephone-dn 8
number 3021
exit
ephone-dn 9
number 3022
exit

! Phone Directory Numbers - Department D (SW4)
ephone-dn 10
number 3030
exit
ephone-dn 11
number 3031
exit
ephone-dn 12
number 3032
exit

! Phone Directory Numbers - Department E (SW5)
ephone-dn 13
number 3040
exit
ephone-dn 14
number 3041
exit
ephone-dn 15
number 3042
exit

! Phone Directory Numbers - Department F (SW6)
ephone-dn 16
number 3050
exit
ephone-dn 17
number 3051
exit
ephone-dn 18
number 3052
exit

! Phone Directory Numbers - Department G (SW7)
ephone-dn 19
number 3060
exit
ephone-dn 20
number 3061
exit
ephone-dn 21
number 3062
exit

! Phone Directory Numbers - Department H (SW6)
ephone-dn 22
number 3070
exit
ephone-dn 23
number 3071
exit
ephone-dn 24
number 3072
exit

end
write
